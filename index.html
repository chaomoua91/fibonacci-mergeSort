<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Recursion in Javascript</title>
  </head>
  <body>
    <script>
      // Using iteration, write a function fibs which takes a number and returns an array
      function fibs(n) {
        if (n < 1) throw new Error("n must be equal to or greater than 1");

        const result = [];
        let a = 0;
        let b = 1;
        let c = a + b;
        for (let i = 0; i < n; i++) {
          if (i === 0) {
            result.push(a);
            continue;
          }
          if (i === 1) {
            result.push(b);
            continue;
          }
          if (i === 2) {
            result.push(c);
            continue;
          }
          a = b;
          b = c;
          c = a + b;
          result.push(c);
        }
        return result;
      }

      //   Now write another function fibsRec which solves the same problem recursively.

      function fibsRec(n) {
        if (n < 1) throw new Error("n must be equal to or greater than 1");

        const result = [];

        for (let i = 1; i <= n; i++) {
          result.push(fib(i));
        }

        return result;
      }

      function fib(n) {
        if (n === 1) return 0;
        if (n === 2) return 1;
        return fib(n - 1) + fib(n - 2);
      }

      function fibsRec(n) {
        if (n < 1) throw new Error("n must be equal to or greater than 1");

        const result = [];

        for (let i = 1; i <= n; i++) {
          result.push(fib(i));
        }

        return result;
      }

      function fib(n) {
        if (n === 1) return 0;
        if (n === 2) return 1;
        return fib(n - 1) + fib(n - 2);
      }

      //   Build a function mergeSort that takes in an array and returns a sorted array

      function mergeSort(array) {
        if (array.length <= 1) return array;

        const midIndex = Math.floor(array.length / 2);
        const leftHalf = mergeSort(array.slice(0, midIndex));
        const rightHalf = mergeSort(array.slice(midIndex));
        return merge(leftHalf, rightHalf);
      }

      function merge(leftHalf, rightHalf) {
        const result = [];

        while (leftHalf.length > 0 && rightHalf.length > 0) {
          const arrayWithSmallerElem =
            leftHalf[0] < rightHalf[0] ? leftHalf : rightHalf;
          const smallerElem = arrayWithSmallerElem.shift();
          result.push(smallerElem);
        }

        return result.concat(leftHalf, rightHalf);
      }
    </script>
  </body>
</html>
